(this["webpackJsonpprepaze-react-questionaire-challenge"]=this["webpackJsonpprepaze-react-questionaire-challenge"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n(7),c=n.n(s),r=(n(27),n(28),n(3)),o=n(4),u=n(20),a=n.n(u),l={1:"Easy",2:"Medium",3:"Hard"},d=2,j=3,b=function(e,t){var n=Object(i.useState)((function(){return sessionStorage.getItem(e)?JSON.parse(sessionStorage.getItem(e)):t})),s=Object(r.a)(n,2);return[s[0],s[1]]},f="SETQUESTIONS",O="UPDATEANSWERS",h=n(0),g=function(e){var t=Object(o.b)(),n=b(e.question.id.toString()+e.question.difficulty_level_id.toString(),""),s=Object(r.a)(n,2),c=s[0],u=s[1],a=Object(i.useState)(""),l=Object(r.a)(a,2),d=l[0],f=l[1],g=function(n,i){e.question.question_type_id===j&&isNaN(n.target.value)?f("Only numbers are allowed for this answer"):(u(n.target.value),f(""),function(e,n,i){t({type:O,question_id:e,answer_id:n,provided_answer:i})}(e.question.id,i,n.target.value),sessionStorage.setItem(e.question.id.toString()+e.question.difficulty_level_id.toString(),JSON.stringify(n.target.value)))};return Object(h.jsxs)("div",{className:"FreeTextQues",children:[Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:e.question.content}}),Object(h.jsx)("textarea",{value:c,onChange:function(t){return g(t,e.question.choices[0].id)}}),Object(h.jsx)("p",{style:{color:"red"},children:d})]})},v=(n(54),function(e){var t=Object(o.b)(),n=b(e.question.id,null),i=Object(r.a)(n,2),s=i[0],c=i[1],u=function(n,i,s){var r;sessionStorage.setItem(e.question.id,JSON.stringify(i)),c(i),r=e.question.id,t({type:O,question_id:r,answer_id:i,provided_answer:s})};return Object(h.jsxs)("div",{className:"SingleChoiceQues",children:[Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:e.question.content}}),e.question.choices.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",value:e.content,checked:e.id===s,onChange:function(t){u(0,e.id,e.content)}}),Object(h.jsx)("span",{className:"Radio",dangerouslySetInnerHTML:{__html:e.content}},e.id)]},e.id)}))]})}),p=(n(55),function(e){var t=e.questions.map((function(e){return e.question_type_id===d?Object(h.jsx)("li",{children:Object(h.jsx)(v,{question:e})},e.id.toString()+e.difficulty_level_id.toString()):Object(h.jsx)("li",{children:Object(h.jsx)(g,{question:e})},e.id.toString()+e.difficulty_level_id.toString())}));return Object(h.jsx)("div",{className:"QuestionList",children:Object(h.jsx)("ol",{children:t})})}),x=function(e){console.log(e);var t=Object(o.c)((function(e){return e.questions}));return Object(h.jsx)("ol",{children:t.filter((function(t){return t.difficulty_level_id===+e.id})).map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{dangerouslySetInnerHTML:{__html:e.content}}),2!==e.question_type_id&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{style:{color:e.isCorrect?"green":"red"},children:["Your Answer: ",Object(h.jsx)("span",{style:{fontWeight:"bold"},children:e.provided_answer?e.provided_answer:"Not Answered"})]}),Object(h.jsxs)("div",{style:{color:"green"},children:["Correct Ans: ",Object(h.jsx)("span",{style:{fontWeight:"bold"},children:e.choices[0].content})]})]}),2===e.question_type_id&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{style:{color:e.isCorrect?"green":"red"},children:["Your Answer: ",e.providedAnswer?Object(h.jsx)("span",{dangerouslySetInnerHTML:{__html:e.providedAnswer}}):Object(h.jsx)("span",{style:{fontWeight:"bold"},children:"Not Answered"})]}),Object(h.jsxs)("div",{style:{color:"green"},children:["Correct Answer: ",Object(h.jsx)("span",{dangerouslySetInnerHTML:{__html:e.choices.find((function(e){return e.selected})).content}})]})]}),Object(h.jsxs)("div",{children:["Score: ",e.assigned_score]})]},e.id)}))})},_=(n(56),function(e){var t=b("showReport",!1),n=Object(r.a)(t,2),s=n[0],c=n[1],o=JSON.parse(sessionStorage.getItem("questions")),u=o.filter((function(e){return 1!==e.question_type_id&&e.isCorrect})).reduce((function(e,t){return e+t.assigned_score}),0),a=Object(i.useMemo)((function(){return sessionStorage.setItem("showReport",JSON.stringify(s)),Object.keys(l).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:l[e]}),Object(h.jsx)(x,{id:e})]},e)}))}),[o]);return Object(h.jsxs)("div",{className:"TestReport",children:[Object(h.jsxs)("section",{style:{textAlign:"center"},children:[Object(h.jsxs)("h1",{children:["Your Score is ",u]}),Object(h.jsx)("button",{onClick:e.retakeTest,children:"Retake"}),Object(h.jsx)("button",{className:"ReportButton",onClick:function(){c(!s)},children:s?"Hide Report":"Show Report"})]}),s?a:null]})}),S=(n(57),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.questions})),n=Object(i.useState)(!1),s=Object(r.a)(n,2),c=s[0],u=s[1],d=b("difficultLevel",1),j=Object(r.a)(d,2),O=j[0],g=j[1],v=Object(i.useState)(!1),x=Object(r.a)(v,2),S=x[0],y=x[1];Object(i.useEffect)((function(){a.a.get("http://localhost:8000/questions").then((function(t){var n;u(!1),n=t.data,e({type:f,questions:n})})).catch((function(e){u(!0)}))}),[]);var m=t.filter((function(e){return e.difficulty_level_id===O&&e.active}));console.log(m);var q=c?Object(h.jsx)("p",{children:"404 Page not found"}):Object(h.jsxs)("form",{className:"TestPage",children:[Object(h.jsx)("h1",{style:{textAlign:"center"},children:l[O]}),Object(h.jsx)("main",{children:m&&Object(h.jsx)(p,{questions:m})}),Object(h.jsxs)("section",{className:"Navigation",children:[Object(h.jsx)("button",{className:"PrevLevel",style:{visibility:O>1?"visible":"hidden"},onClick:function(e){e.preventDefault(),sessionStorage.setItem("difficultLevel",JSON.stringify(O-1)),g(O-1)},children:"<"}),O<3&&Object(h.jsx)("button",{className:"NextLevel",onClick:function(e){e.preventDefault(),sessionStorage.setItem("difficultLevel",JSON.stringify(O+1)),g(O+1)},children:">"}),3===O&&Object(h.jsx)("button",{className:"Submit",onClick:function(e){e.preventDefault(),sessionStorage.setItem("questions",JSON.stringify(t)),y(!0)},children:"Submit"})]})]});return Object(h.jsx)(h.Fragment,{children:S?Object(h.jsx)(_,{retakeTest:function(){g(1),y(!1)}}):q})});var y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(S,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))},q=n(21),N=n(22),w=n(5),I={questions:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(w.a)(Object(w.a)({},e),{},{questions:t.questions.filter((function(e){return e.active}))});case O:var n=Object(N.a)(e.questions).map((function(e){if(e.id===t.question_id){var n=!1;return e.choices.forEach((function(i){i.id===t.answer_id&&(2===e.question_type_id&&!0===i.selected||3===e.question_type_id&&i.content===parseInt(t.provided_answer))&&(n=!0,console.log(n))})),Object(w.a)(Object(w.a)({},e),{},{isAnswered:!0,isCorrect:n,providedAnswer:t.provided_answer})}return e}));return Object(w.a)(Object(w.a)({},e),{},{questions:n});default:return e}},T=Object(q.a)(C);c.a.render(Object(h.jsx)(o.a,{store:T,children:Object(h.jsx)(y,{})}),document.getElementById("root")),m()}},[[58,1,2]]]);
//# sourceMappingURL=main.2c669a8f.chunk.js.map